<div class="company-creation-form">
  <h2>Create Company</h2>
  <form [formGroup]="companyForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Company Name:</label>
      <input type="text" id="name" formControlName="name" required>
    </div>
    <div class="form-group">
      <label for="description">Description:</label>
      <textarea id="description" formControlName="description" required></textarea>
    </div>

    <div formGroupName="location">
      <h3>Location</h3>
      <div class="form-group">
        <label for="street">Street:</label>
        <input type="text" id="street" formControlName="street" required>
      </div>
      <div class="form-group">
        <label for="streetNumber">Street Number:</label>
        <input type="text" id="streetNumber" formControlName="streetNumber" required>
      </div>
      <div class="form-group">
        <label for="city">City:</label>
        <input type="text" id="city" formControlName="city" required>
      </div>
      <div class="form-group">
        <label for="country">Country:</label>
        <input type="text" id="country" formControlName="country" required>
      </div>
      <div class="form-group">
        <label for="postcode">Postcode:</label>
        <input type="text" id="postcode" formControlName="postcode" required>
      </div>
    </div>

    <div formArrayName="admins">
        <h3>Select company admin</h3>
        <div *ngFor="let admin of freeAdmins; let i = index">
          <label>
            <input type="checkbox" formControlName="{{i}}"> {{admin.user.firstName}} {{admin.user.lastName}}
          </label>
        </div>
        <button type="button" (click)="addAdmin()">Add Selected Admins</button>

        <div *ngIf="adminsArray.length > 0">
            <h4>Selected Admins:</h4>
            <ul>
                <li *ngFor="let admin of adminsArray">{{admin.user.firstName}} {{admin.user.lastName}}</li>
            </ul>
        </div>
    </div>
    <button type="button" [disabled]="adminsArray.length === 0" (click)="onSubmit()">Create Company</button>
  </form>
</div>
